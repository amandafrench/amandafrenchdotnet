!function(o){"use strict";o(window).load(function(){o("ul#submissions-data").hover(function(){o("#last-submission").addClass("unseen"),o("#submissions-notice").removeClass("unseen")},function(){o("#last-submission").removeClass("unseen"),o("#submissions-notice").addClass("unseen")}),o("#shortcode-copy").click(function(){event.preventDefault();var e=document.createElement("input");e.style="position: absolute; left: -1000px; top: -1000px",document.body.appendChild(e),e.value=o("#shortcode").text(),e.select(),document.execCommand("copy"),document.body.removeChild(e),o("#shortcode-tooltip").text(ajax_sform_settings_options_object.copied),setTimeout(function(){o("#shortcode-tooltip").hide()},1500)}),o("#shortcode-copy").hover(function(){o("#shortcode-tooltip").text(ajax_sform_settings_options_object.copy),o("#shortcode-tooltip").show()},function(){o("#shortcode-tooltip").hide()}),o("#show-for").change(function(){var e=o(this).val(),e=o(location).attr("href")+"&showfor="+e;document.location.href=e}),o("#name-field").on("change",function(){"hidden"==o("#name-field option:selected").val()?o(".trname").addClass("unseen"):(o(".trname").removeClass("unseen"),1==o("#namelabel").prop("checked")?o("tr.namelabel").addClass("unseen"):o("tr.namelabel").removeClass("unseen"))}),o("#lastname-field").on("change",function(){"hidden"==o("#lastname-field option:selected").val()?o(".trlastname").addClass("unseen"):(o(".trlastname").removeClass("unseen"),1==o("#lastnamelabel").prop("checked")?o("tr.lastnamelabel").addClass("unseen"):o("tr.lastnamelabel").removeClass("unseen"))}),o("#email-field").on("change",function(){"hidden"==o("#email-field option:selected").val()?o(".tremail").addClass("unseen"):(o(".tremail").removeClass("unseen"),1==o("#emaillabel").prop("checked")?o("tr.emaillabel").addClass("unseen"):o("tr.emaillabel").removeClass("unseen"))}),o("#phone-field").on("change",function(){"hidden"==o("#phone-field option:selected").val()?o(".trphone").addClass("unseen"):(o(".trphone").removeClass("unseen"),1==o("#phonelabel").prop("checked")?o("tr.phonelabel").addClass("unseen"):o("tr.phonelabel").removeClass("unseen"))}),o("#subject-field").on("change",function(){"hidden"==o("#subject-field option:selected").val()?o(".trsubject").addClass("unseen"):(o(".trsubject").removeClass("unseen"),1==o("#subjectlabel").prop("checked")?o("tr.subjectlabel").addClass("unseen"):o("tr.subjectlabel").removeClass("unseen"))}),o("#captcha-field").on("change",function(){"hidden"==o("#captcha-field option:selected").val()?o(".trcaptchalabel").addClass("unseen"):o(".trcaptchalabel").removeClass("unseen")}),o("#preference-field").on("change",function(){"hidden"==o("#preference-field option:selected").val()?o(".trpreference").addClass("unseen"):o(".trpreference").removeClass("unseen")}),o("#consent-field").on("change",function(){"hidden"==o("#consent-field option:selected").val()?o(".trconsent").addClass("unseen"):(o(".trconsent").removeClass("unseen"),1==o("#privacy-link").prop("checked")?o(".trpage").removeClass("unseen"):o(".trpage").addClass("unseen"))}),o("#privacy-link").on("click",function(){var e,s=o("#consent-label").val(),t=ajax_sform_settings_options_object.privacy;1==o(this).prop("checked")?o(".trpage").removeClass("unseen"):(o(".trpage").addClass("unseen"),e=new RegExp("<a [^>]*>"+t+"</a>","i"),t=s.replace(e,t),o("#consent-label").val(t),o("#privacy-page").val(""),o("#set-page, #set-page-icon").addClass("unseen"),o("#set-page, #set-page-icon").attr("page",0),o("#post-status").html("&nbsp;"))}),o("#privacy-page").on("change",function(){var e=o(this).val(),s=o("#set-page").attr("page");""!=e?(o("#page-id").val(e),e==s?o("#set-page, #set-page-icon").addClass("unseen"):o("#set-page, #set-page-icon").removeClass("unseen")):(o("#set-page, #set-page-icon").addClass("unseen"),o("#privacy-link").click())}),o("#set-page").click(function(e){o("#label-error").html("");var s=o('textarea[name="consent-label"]').val(),t=o('input[name="page-id"]').val(),n=o('input[name="verification_nonce"]').val();return o.ajax({type:"POST",dataType:"json",url:ajax_sform_settings_options_object.ajaxurl,data:{action:"setting_privacy",verification_nonce:n,"page-id":t,"consent-label":s},success:function(e){!0===e.error&&o("#label-error").html("Error occurred during creation of the link"),!1===e.error&&(o("#consent-label").val(e.label),o("#set-page").addClass("unseen"),o("#set-page").attr("page",t))},error:function(e){o("#label-error").html("Error occurred during creation of the link")}}),e.preventDefault(),!1}),o("#set-page-icon").click(function(e){var s=o('textarea[name="consent-label"]').val(),t=o('input[name="page-id"]').val(),n=o('input[name="verification_nonce"]').val();return o.ajax({type:"POST",dataType:"json",url:ajax_sform_settings_options_object.ajaxurl,data:{action:"setting_privacy",verification_nonce:n,"page-id":t,"consent-label":s},success:function(e){!0===e.error&&o("#label-error-top").html("Error occurred during creation of the link"),!1===e.error&&(o("#consent-label").val(e.label),o("#set-page-icon").addClass("unseen"),o("#set-page-icon").attr("page",t))},error:function(e){o("#label-error-top").html("Error occurred during creation of the link")}}),e.preventDefault(),!1}),o(".field-label").on("click",function(){var e=o(this).attr("id");1==o(this).prop("checked")?o("tr."+e).addClass("unseen"):o("tr."+e).removeClass("unseen")}),o("#required-sign").on("click",function(){1==o(this).prop("checked")?o(".trsign").addClass("unseen"):o(".trsign").removeClass("unseen")}),o("#optional-labelling").on("click",function(){o("#required-word").val()==ajax_sform_settings_options_object.required&&o("#required-word").val(ajax_sform_settings_options_object.optional)}),o("#required-labelling").on("click",function(){o("#required-word").val()==ajax_sform_settings_options_object.optional&&o("#required-word").val(ajax_sform_settings_options_object.required)}),o(".nav-tab").on("click",function(){var e=o(this).attr("id");o(".nav-tab-active").removeClass("nav-tab-active"),o(".navtab").addClass("unseen"),o("#tab-"+e).removeClass("unseen"),o(this).addClass("nav-tab-active"),"appearance"==e?o(".editorpage").text(ajax_sform_settings_options_object.appearance):o(".editorpage").text(ajax_sform_settings_options_object.builder)}),o("#widget-editor").on("click",function(){1==o(this).prop("checked")?o(".trwidget").addClass("unseen"):o(".trwidget").removeClass("unseen")}),o("#form-template").on("change",function(){var e=o("#form-template option:selected").val();"transparent"==e?o("#form-borders").removeClass("unseen"):o("#form-borders").addClass("unseen"),"customized"==e?o("#template-notice").text(ajax_sform_settings_options_object.notes):o("#template-notice").html("&nbsp;")}),o("#stylesheet").on("click",function(){1==o(this).prop("checked")?o(".trstylesheet").removeClass("unseen"):o(".trstylesheet").addClass("unseen")}),o("#stylesheet-file").on("click",function(){1==o(this).prop("checked")?o("#stylesheet-description").html(ajax_sform_settings_options_object.cssenabled):o("#stylesheet-description").html(ajax_sform_settings_options_object.cssdisabled)}),o("#javascript").on("click",function(){1==o(this).prop("checked")?o("#javascript-description").html(ajax_sform_settings_options_object.jsenabled):o("#javascript-description").html(ajax_sform_settings_options_object.jsdisabled)}),o("#outside-error").on("change",function(){var n=o("#outside-error option:selected").val(),e=o("label#focusout").html();"none"!=n&&o(".out").each(function(e,s){var t,s=o(s);"top"==n&&(t=s.attr("placeholder").replace(ajax_sform_settings_options_object.bottom,ajax_sform_settings_options_object.top)),"bottom"==n&&(t=s.attr("placeholder").replace(ajax_sform_settings_options_object.top,ajax_sform_settings_options_object.bottom)),console.log(s.attr("placeholder")),s.attr("placeholder",t)}),"top"==n?(o("label#focusout").html(e.replace(ajax_sform_settings_options_object.nofocus,ajax_sform_settings_options_object.focusout)),o("#outside-notice").text(ajax_sform_settings_options_object.topnotes),o(".trout").removeClass("removed"),(o("#trcaptcha").hasClass("unseen")?o(".messagecell"):o(".captchacell")).removeClass("last")):"bottom"==n?(o("label#focusout").html(e.replace(ajax_sform_settings_options_object.nofocus,ajax_sform_settings_options_object.focusout)),o("#outside-notice").text(ajax_sform_settings_options_object.bottomnotes),o(".trout").removeClass("removed"),(o("#trcaptcha").hasClass("unseen")?o(".messagecell"):o(".captchacell")).removeClass("last")):(o("label#focusout").html(e.replace(ajax_sform_settings_options_object.focusout,ajax_sform_settings_options_object.nofocus)),o("#outside-notice").html("&nbsp;"),o(".trout").addClass("removed"),(o("#trcaptcha").hasClass("unseen")?o(".messagecell"):o(".captchacell")).addClass("last"))}),o("#characters-length").on("click",function(){1==o(this).prop("checked")?(o("#characters-description").html(ajax_sform_settings_options_object.showcharacters),o("#incomplete-name").val(ajax_sform_settings_options_object.numnamer),o("#incomplete-lastname").val(ajax_sform_settings_options_object.numlster),o("#incomplete-subject").val(ajax_sform_settings_options_object.numsuber),o("#incomplete-message").val(ajax_sform_settings_options_object.nummsger)):(o("#characters-description").html(ajax_sform_settings_options_object.hidecharacters),o("#incomplete-name").val(ajax_sform_settings_options_object.gennamer),o("#incomplete-lastname").val(ajax_sform_settings_options_object.genlster),o("#incomplete-subject").val(ajax_sform_settings_options_object.gensuber),o("#incomplete-message").val(ajax_sform_settings_options_object.genmsger))}),o("#ajax-submission").on("click",function(){1==o(this).prop("checked")?o(".trajax").removeClass("unseen"):o(".trajax").addClass("unseen")}),o("#confirmation-message").on("click",function(){1==o(this).prop("checked")&&(o(".trsuccessmessage").removeClass("unseen"),o(".trsuccessredirect").addClass("unseen"),o("#confirmation-page").val(""),o("#post-status").html("&nbsp;"))}),o("#success-redirect").on("click",function(){1==o(this).prop("checked")&&(o(".trsuccessmessage").addClass("unseen"),o(".trsuccessredirect").removeClass("unseen"))}),o("#confirmation-page, #privacy-page").on("change",function(){var e=o(this).find("option:selected"),s=e.attr("value");"draft"==e.attr("Tag")?o("#post-status").html(ajax_sform_settings_options_object.status+' - <strong><a href="'+ajax_sform_settings_options_object.adminurl+"post.php?post="+s+'&action=edit" target="_blank" style="text-decoration: none; color: #9ccc79;">'+ajax_sform_settings_options_object.publish+"</a></strong>"):""!=s?(e='<strong><a href="'+ajax_sform_settings_options_object.adminurl+"post.php?post="+s+'&action=edit" target="_blank" style="text-decoration: none;">'+ajax_sform_settings_options_object.edit+"</a></strong>",s='<strong><a href="'+ajax_sform_settings_options_object.pageurl+"/?page_id="+s+'" target="_blank" style="text-decoration: none;">'+ajax_sform_settings_options_object.view+"</a></strong>",s=ajax_sform_settings_options_object.pagelinks.replace(ajax_sform_settings_options_object.edit,e).replace(ajax_sform_settings_options_object.view,s),o("#post-status").html(s)):o("#post-status").html("&nbsp;")}),o(".notice-toggle").on("click",function(){o(".smpt-warnings").hasClass("unseen")?(o("#smpt-warnings").text(ajax_sform_settings_options_object.hide),o(".smpt-settings").addClass("unseen"),o(".smpt-warnings").removeClass("unseen")):(o("#smpt-warnings").text(ajax_sform_settings_options_object.show),o("#trsmtpon").removeClass("unseen"),o(".smpt-warnings").addClass("unseen"),1==o("#server-smtp").prop("checked")?(o(".trsmtp").removeClass("unseen"),1==o("#smtp-authentication").prop("checked")?o(".trauthentication").removeClass("unseen"):o(".trauthentication").addClass("unseen")):o(".trsmtp").addClass("unseen"))}),o("#server-smtp").on("click",function(){1==o(this).prop("checked")?(o(".trsmtp").removeClass("unseen"),o("#tdsmtp").removeClass("last"),o("#smtp-notice").text(ajax_sform_settings_options_object.smtpnotes),1==o("#smtp-authentication").prop("checked")?o(".trauthentication").removeClass("unseen"):o(".trauthentication").addClass("unseen")):(o(".trsmtp").addClass("unseen"),o("#tdsmtp").addClass("last"),o("#smtp-notice").text(""))}),o("#smtp-authentication").on("click",function(){1==o(this).prop("checked")?(o("#tdauthentication").removeClass("last"),o(".trauthentication").removeClass("unseen")):(o("#tdauthentication").addClass("last"),o(".trauthentication").addClass("unseen"))}),o("#notification").on("click",function(){1==o(this).prop("checked")?(o(".trnotification").removeClass("unseen"),o("#tdnotification").removeClass("last"),1==o("#custom-name").prop("checked")?o(".trcustomname").removeClass("unseen"):o(".trcustomname").addClass("unseen"),1==o("#default-subject").prop("checked")?o(".trcustomsubject").removeClass("unseen"):o(".trcustomsubject").addClass("unseen")):(o(".trnotification").addClass("unseen"),o("#tdnotification").addClass("last"))}),o("#requester-name").on("click",function(){1==o(this).prop("checked")?o(".trcustomname").addClass("unseen"):o(".trcustomname").removeClass("unseen")}),o("#form-name").on("click",function(){1==o(this).prop("checked")?o(".trcustomname").addClass("unseen"):o(".trcustomname").removeClass("unseen")}),o("#custom-name").on("click",function(){1==o(this).prop("checked")?o(".trcustomname").removeClass("unseen"):o(".trcustomname").addClass("unseen")}),o("#request-subject").on("click",function(){1==o(this).prop("checked")?o(".trcustomsubject").addClass("unseen"):o(".trcustomsubject").removeClass("unseen")}),o("#default-subject").on("click",function(){1==o(this).prop("checked")?o(".trcustomsubject").removeClass("unseen"):o(".trcustomsubject").addClass("unseen")}),o("#autoresponder").on("click",function(){1==o(this).prop("checked")?(o(".trauto").removeClass("unseen"),o("#tdconfirmation").removeClass("last")):(o(".trauto").addClass("unseen"),o("#tdconfirmation").addClass("last"))}),o("#save-settings").click(function(e){o(".message").removeClass("error success unchanged"),o(".message").addClass("seen"),o(".message").html(ajax_sform_settings_options_object.loading);var s=o("form#settings").serialize();return o.ajax({type:"POST",dataType:"json",url:ajax_sform_settings_options_object.ajaxurl,data:s+"&action=sform_edit_options",success:function(e){var s=e.error,t=(e.message,e.update);!0===s&&(o(".message").addClass("error"),o(".message").html(e.message)),!1===s&&(o(".message").html(e.message),!1===t&&o(".message").addClass("unchanged"),!0===t&&o(".message").addClass("success"))},error:function(e){o(".message").html("AJAX call failed")}}),e.preventDefault(),!1}),o(document).on("change","input[type=checkbox], input[type=radio], select",function(){o(".message").removeClass("seen error success unchanged")}),o(document).on("input","input[type=text], input[type=email], textarea",function(){o(".message").removeClass("seen error success unchanged")}),o("#save-attributes").click(function(e){o(".message").removeClass("error success unchanged"),o(".message").addClass("seen"),o(".message").text(ajax_sform_settings_options_object.saving);var s=o("form#attributes").serialize();return o.ajax({type:"POST",dataType:"json",url:ajax_sform_settings_options_object.ajaxurl,data:s+"&action=shortcode_costruction",success:function(e){var s=e.error,t=(e.message,e.update),n=e.redirect,a=e.url;!0===s&&(o(".message").addClass("error"),o(".message").html(e.message)),!1===s&&(o(".message").html(e.message),!1===t&&o(".message").addClass("unchanged"),!0===t&&(!0===n?document.location.href=a:o(".message").addClass("success")))},error:function(e){o(".message").html("AJAX call failed")}}),e.preventDefault(),!1}),o(document).on("change",".sform-target",function(){var e=o(this).val(),s=o(this).attr("field");"in"===e?o("p#usertype.role-"+s).removeClass("unseen"):o("p#usertype.role-"+s).addClass("unseen")}),o(document).on("change",".sfwidget",function(){var e=o(this).attr("box"),s=o(this).val();"all"===s?(o("div#sform-widget-hidden-pages."+e).addClass("unseen"),o("div#sform-widget-visible-pages."+e).addClass("unseen"),o("p#visibility-notes").removeClass("unseen"),o("p#visibility").addClass("visibility")):(o("p#visibility-notes").addClass("unseen"),o("p#visibility").removeClass("visibility"),"hidden"===s?(o("div#sform-widget-hidden-pages."+e).removeClass("unseen"),o("div#sform-widget-visible-pages."+e).addClass("unseen")):(o("div#sform-widget-hidden-pages."+e).addClass("unseen"),o("div#sform-widget-visible-pages."+e).removeClass("unseen")))}),o("#form").change(function(){var e=o(this).val(),s=o(location).attr("href"),t=new URLSearchParams(s),n=t.get("form");s=-1<s.indexOf("form=")?e?s.replace("&form="+n,"&form="+e):s.replace("&form="+n,""):e?s+"&form="+e:s;t=t.get("paged");s=-1<s.indexOf("paged=")?s.replace("&paged="+t,""):s,document.location.href=s}),o(".cbfield").on("click",function(){var e=o(this).attr("field");1==o(this).prop("checked")?o(".tr"+e).addClass("secret"):(o(".tr"+e).removeClass("secret"),1==o("#"+e+"label").prop("checked")?o("tr."+e+"label").addClass("unseen"):o("tr."+e+"label").removeClass("unseen"))}),o("#admin-notices").on("click",function(){1==o(this).prop("checked")?o(".admin-notices").addClass("invisible"):o(".admin-notices").removeClass("invisible")}),o("#duplicate").on("click",function(){1==o(this).prop("checked")?o(".trduplicate").removeClass("unseen"):o(".trduplicate").addClass("unseen")}),o(".sform-switch").on("click",function(){0==o(this).prop("checked")?o(this).val("false"):o(this).val("true")}),o("#admin-color").on("change",function(e){var s=o(this).val(),t=o("#settings").attr("class"),n=o('input[name="verification_nonce"]').val();return o.ajax({type:"POST",dataType:"json",url:ajax_sform_settings_options_object.ajaxurl,data:{action:"admin_color_scheme",verification_nonce:n,"admin-color":s},success:function(e){e.error;var s=e.color;!0===e.error&&o("#label-error").html("Error occurred during creation of the link"),!1===e.error&&(o(".full-width-bar, h1.title, select#form, .form-button, #settings, #smpt-warnings, .icon-button").removeClass(t),o(".full-width-bar, h1.title, select#form, .form-button, #settings, #smpt-warnings, .icon-button").addClass(s))},error:function(e){o("#label-error").html("Error occurred during creation of the link")}}),e.preventDefault(),!1}),o("span.heading").on("click",function(){var e=o(this).attr("section");o(".section."+e).toggleClass("collapsed"),o(".section."+e).hasClass("collapsed")?(o("span.toggle."+e).removeClass("dashicons-arrow-up-alt2"),o("span.toggle."+e).addClass("dashicons-arrow-down-alt2"),o("#h2-"+e).addClass("closed")):(o("span.toggle."+e).removeClass("dashicons-arrow-down-alt2"),o("span.toggle."+e).addClass("dashicons-arrow-up-alt2"),o("#h2-"+e).removeClass("closed"))}),o("#deletion-toggle, .cancel.delete").on("click",function(){o("#deletion-notice").hasClass("unseen")?(o("#deletion-toggle").addClass("unseen"),o("#deletion-notice").removeClass("unseen")):(o("#deletion-toggle").removeClass("unseen"),o("#deletion-notice").addClass("unseen"))}),o("#deletion-confirm").click(function(e){var s=o("form#deletion").serialize();return o.ajax({type:"POST",dataType:"json",url:ajax_sform_settings_options_object.ajaxurl,data:s+"&action=sform_delete_form",success:function(e){e.error;var s=e.message,t=e.redirect_url;!0===e.error&&o(".disclaimer").html(s),!1===e.error&&(o(".disclaimer").html(s),o("#deletion-buttons").addClass("unseen"),setTimeout(function(){document.location.href=t},1500))},error:function(e){o(".disclaimer").html("AJAX call failed")}}),e.preventDefault(),!1}),-1<window.location.href.indexOf("#css")&&(document.getElementById("appearance").click(),document.getElementById("additional-css").focus())})}(jQuery);